document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".item-timer"),t=e.querySelector(".item-timer__number_1"),r=e.querySelector(".item-timer__number_2"),s=e.querySelector(".item-timer__number_3");let n,a,i;function c(e){switch(e){case 1:[...t.querySelectorAll("span")].forEach(e=>{e.classList.add("hide"),setTimeout(()=>{e.remove()},500)});break;case 2:[...r.querySelectorAll("span")].forEach(e=>{e.classList.add("hide"),setTimeout(()=>{e.remove()},500)});break;case 3:[...s.querySelectorAll("span")].forEach(e=>{e.classList.add("hide"),setTimeout(()=>{e.remove()},500)})}}function o(e,t,r=!1){const s=document.createElement("span");s.textContent=e,r?s.classList.add("start"):s.classList.add("show"),t.append(s)}document.querySelector(".timer__buttons").addEventListener("click",e=>{if(e.target.closest("[data-time]")){clearInterval(a),clearTimeout(i);const m=e.target.closest("[data-time]").dataset.time.trim().split(""),l=m.indexOf(":");m.splice(l,1),n=m.map(e=>Number(e)),function(){function e(){0===n[2]?0===n[1]?0===n[0]?(clearInterval(a),function(){const e=new Audio;e.src="../resources/timerEnd.mp3",e.play(),setTimeout(()=>e.pause(),2e3)}()):(n[0]--,n[1]=5,n[2]=9,c(1),c(2),c(3),o(n[0],t),o(n[1],r),o(n[2],s)):(n[1]--,n[2]=9,c(2),c(3),o(n[1],r),o(n[2],s)):(n[2]--,c(3),o(n[2],s))}t.innerHTML="",r.innerHTML="",s.innerHTML="",o(n[0],t,!0),o(n[1],r,!0),o(n[2],s,!0),i=setTimeout(()=>{e(),a=setInterval(e,1e3)},500)}()}})});