document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".item-timer"),t=e.querySelector(".item-timer__number_1"),r=e.querySelector(".item-timer__number_2"),n=e.querySelector(".item-timer__number_3");let s,a;function i(e){switch(e){case 1:[...t.querySelectorAll("span")].forEach(e=>{e.classList.add("hide"),setTimeout(()=>{e.remove()},500)});break;case 2:[...r.querySelectorAll("span")].forEach(e=>{e.classList.add("hide"),setTimeout(()=>{e.remove()},500)});break;case 3:[...n.querySelectorAll("span")].forEach(e=>{e.classList.add("hide"),setTimeout(()=>{e.remove()},500)})}}function c(e,t,r=!1){const n=document.createElement("span");n.textContent=e,r?n.classList.add("start"):n.classList.add("show"),t.append(n)}document.querySelector(".timer__buttons").addEventListener("click",e=>{if(e.target.closest("[data-time]")){clearInterval(a);const o=e.target.closest("[data-time]").dataset.time.trim().split(""),l=o.indexOf(":");o.splice(l,1),s=o.map(e=>Number(e)),function(){function e(){0===s[2]?0===s[1]?0===s[0]?(clearInterval(a),function(){const e=new Audio;e.src="../timer/resources/timerEnd.mp3",e.play(),setTimeout(()=>e.pause(),2e3)}(),console.log("clear interval")):(s[0]--,s[1]=5,s[2]=9,i(1),i(2),i(3),c(s[0],t),c(s[1],r),c(s[2],n)):(s[1]--,s[2]=9,i(2),i(3),c(s[1],r),c(s[2],n)):(s[2]--,i(3),c(s[2],n))}t.innerHTML="",r.innerHTML="",n.innerHTML="",c(s[0],t,!0),c(s[1],r,!0),c(s[2],n,!0),setTimeout(()=>{e(),a=setInterval(e,1e3)},500)}()}})});